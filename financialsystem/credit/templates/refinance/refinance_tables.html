{% extends "core/base.html" %} {% block content %} {% load static %}
{% for refinance in refinances %}
<!-- MODIFICAR PARA QUE SE VISUALICE LA TABLA PASADA POR ARGUMENTO Y METER UN BOTON DE PAGO  -->
<table class="table table-striped table-hover">
    <thead class="table-light">
        <tr>
            <th scope="col">Cuota</th>
            <th scope="col">Monto de la cuota</th>
            <th scope="col">Fecha de vencimiento</th>
            <th scope="col">Estado</th>
        </tr>
    </thead>
    <tbody>
        {% for installment in refinance.installment_refinancing.all %}
        <tr>
            <td>{{installment.installment_number}}</td>
            <td>{{installment.amount}}</td>
            <td>{{installment.end_date|date}}</td>
            {% if installment.is_paid_installment %}
            <td>
                <div class="alert alert-success m-0 p-1 text-center rounded-pill" role="alert">
                    <strong>● Pagada</strong>
                </div>
            </td>
            {% elif installment.is_caduced_installment %}
                <td>
                    <div class="alert alert-danger m-0 p-1 text-center rounded-pill" role="alert">
                        <strong>● Vencida</strong>
                    </div>
                </td>
            {% else %}
            <td>
                <div class="alert alert-warning m-0 p-1 text-center rounded-pill" role="alert">
                    <strong>● A Tiempo</strong>
                </div>
            </td>
            {% endif %}
        </tr>
        {% endfor %}
    </tbody>
</table>
{% endfor %}
{% endblock content %}