{% load crispy_forms_tags %} {% csrf_token %} {% with named_formsets.credit as formset %} {{ formset.management_form }}
<script type="text/html" id="credit-template"> // id="inlineformsetname-template"
    <tr id="credit-__prefix__" class=h ide_all> // id="inlineformsetname-__prefix__" {% for fields in formset.empty_form.hidden_fields %} {{ fields }} {% endfor %} {% for fields in formset.empty_form.visible_fields %} {% if not forloop.last %}
        <td>{{fields}}</td>
        {% endif %} {% endfor %}
    </tr>
</script>

<div class="table-responsive card mt-4">
    <div class="card-header bg-secondary text-white">
        <h5 class="card-title animate__fadeInDown" style="animation-duration: 0.5s !important;">Credito</h5>
    </div>
    <table class="table card-body">
        <thead class="">
            <th><span class="font-weight-normal">Monto</span><span style="color: red;" class="required">*</span></th>
            <th><span class="font-weight-normal">Cuotas</span><span style="color: red;" class="required">*</span></th>
            <th><span class="font-weight-normal">Interes</span><span style="color: red;" class="required">*</span></th>
            <th><span class="font-weight-normal">Fecha de credito</span><span style="color: red;" class="required">*</span></th>
        </thead>
        <tbody id="item-credit">
            <!-- id="item-inlineformsetname" -->
            <!-- formset non forms errors -->
            {% for error in formset.non_form_errors %}
            <span style="color: red">{{ error }}</span> {% endfor %} {% for formss in formset %} {{ formss.management_form }}
            <tr id="credit-{{ forloop.counter0 }}" class=h ide_all>
                <!-- id="inlineformsetname-counter" -->
                {{ formss.id }} {% for field in formss.visible_fields %} {% if not forloop.last %}
                <td>
                    {{field}} {% for error in field.errors %}
                    <span style="color: red">{{ error }}</span> {% endfor %}
                </td>
                {% endif %} {% endfor %}
                <!-- delete code -->
                <!-- {% if formss.instance.pk %}
                    <td>
                        <button type="button" class="btn btn-danger" data-toggle="modal" data-target="#exampleModal{{formss.instance.pk}}">
                                    Borrar
                                </button>
                         Modal 
                        <div class="modal fade" id="exampleModal{{formss.instance.pk}}" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel{{formss.instance.pk}}" aria-hidden="true">
                            <div class="modal-dialog" role="document">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <p class="modal-title font-weight-normal" id="exampleModalLabel{{formss.instance.pk}}">¿Estas seguro que quieres borrar este numero?</p>
                                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                            <span aria-hidden="true">&times;</span>
                                        </button>
                                    </div>
                                    <div class="modal-footer">
                                        <a href="{% url 'clients:delete_phone_number' formss.instance.pk %}" type="button" class="btn btn-danger m-2 rounded p-2">Si, Borrar</a>
                                        <button type="button" class="btn btn-primary m-2 rounded p-2" data-dismiss="modal">Cerrar</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </td>
                    {% endif %} -->
            </tr>
            {% endfor %}
        </tbody>
    </table>
    <!-- <a href="#" id="add-phone_number-button" class="btn btn-primary m-2 rounded p-3 add-credit">Añadir</a> -->
    <!-- id="add-inlineformsetname-button" -->
</div>
{% endwith %}

<!-- inline form for credit end -->
<!-- <p><input type="submit" class="btn btn-success btn-block mt-4 rounded p-3" value="Confirmar"></p> -->

<!-- <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script> -->

<!-- <script>
    $(document).ready(function() {
        // when user clicks add more btn of credit
        $('.add-credit').click(function(ev) {
            ev.preventDefault();
            var count = $('#item-credit').children().length;
            var tmplMarkup = $('#credit-template').html();
            var compiledTmpl = tmplMarkup.replace(/__prefix__/g, count);
            $('#item-credit').append(compiledTmpl);

            // update form count
            $('#id_credit-TOTAL_FORMS').attr('value', count + 1);
        });
    });
</script> -->